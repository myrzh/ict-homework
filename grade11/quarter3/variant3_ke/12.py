ПОКА нашлось(12) ИЛИ нашлось(21) 
   ЕСЛИ нашлось 12) 
      ТО заменить(12, 21) 
   ИНАЧЕ 
      заменить(21, 111) 


s = 
while '12' in s or '21' in s:
    if '12' in s:
        s = s.replace('12', '21')
    else:
        s = s.replace('21', '111')